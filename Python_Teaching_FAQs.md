# Python æ•™å­¸é‡‹ç–‘é›†

## ğŸ“š ç›®éŒ„

1. [å•é¡Œä¸€ï¼šlambda ç‚ºä»€éº¼éœ€è¦ç”¨ `x=i`ï¼Ÿ](#å•é¡Œä¸€ï¼šlambda-ç‚ºä»€éº¼éœ€è¦ç”¨-`x=i`ï¼Ÿ)
2. [å•é¡ŒäºŒï¼šif expression åˆ¤æ–·è®Šæ•¸æ˜¯å¦æœ‰å…§å®¹](#å•é¡ŒäºŒï¼šif-expression-åˆ¤æ–·è®Šæ•¸æ˜¯å¦æœ‰å…§å®¹)
3. [å•é¡Œä¸‰ï¼špycache èˆ‡ pyc æª”æ¡ˆæ˜¯ä»€éº¼ï¼Ÿ](#å•é¡Œä¸‰ï¼špycache-èˆ‡-pyc-æª”æ¡ˆæ˜¯ä»€éº¼ï¼Ÿ)
4. [å•é¡Œå››ï¼špyttsx3 ç„¡æ³•ç™¼è²çš„å¸¸è¦‹å•é¡Œèˆ‡æ’é™¤æ–¹å¼](#å•é¡Œå››ï¼špyttsx3-ç„¡æ³•ç™¼è²çš„å¸¸è¦‹å•é¡Œèˆ‡æ’é™¤æ–¹å¼)
5. [å•é¡Œäº”ï¼šimport å¥—ä»¶å¤±æ•—](#å•é¡Œäº”ï¼šimport-å¥—ä»¶å¤±æ•—)
6. [å•é¡Œå…­ï¼špandas æŒ‡ä»¤è¬›è§£](#å•é¡Œå…­ï¼špandas-æŒ‡ä»¤è¬›è§£)
7. [å•é¡Œä¸ƒï¼šmatplotib æŒ‡ä»¤è¬›è§£](#å•é¡Œä¸ƒï¼šmatplotib-æŒ‡ä»¤è¬›è§£)
---


## å•é¡Œä¸€ï¼šlambda ç‚ºä»€éº¼éœ€è¦ç”¨ `x=i`ï¼Ÿ

![image](https://hackmd.io/_uploads/rJZ6RHnGlx.png)


### ğŸ§  é‡é»è§€å¿µï¼šlambda æ˜¯ã€Œå»¶å¾ŒåŸ·è¡Œã€çš„å‡½å¼

ä½ å¯ä»¥æŠŠé€™å¥æƒ³æˆä¸€å¼µã€Œå‚™å¿˜éŒ„ã€ï¼š

```python
lambda: print(i)
```

æ„æ€æ˜¯ï¼šç­‰ä½ æŒ‰ä¸‹æŒ‰éˆ•çš„æ™‚å€™ï¼Œæ‰æœƒå»æ‰¾ `i` çš„å€¼ä¸¦å°å‡ºä¾†ã€‚
ä½†å¦‚æœä½ ç”¨çš„æ˜¯å…±ç”¨çš„ `i` è®Šæ•¸ï¼Œé‚£ç­‰æŒ‰ä¸‹å»æ™‚ï¼Œ`i` å·²ç¶“è®Šæˆæœ€å¾Œä¸€å€‹å€¼ï¼ˆä¾‹å¦‚ 2ï¼‰äº†ã€‚



### ğŸ‘¨â€ğŸ’» éŒ¯èª¤å¯«æ³•é€å›åˆæ¨¡æ“¬

```python
for i in range(3):
    btn = Button(text=str(i), command=lambda: print(i))
```

#### ğŸ” ç¬¬ 1 å›åˆ i = 0
- å»ºç«‹æŒ‰éˆ•æ–‡å­—ï¼š"0"
- å‚™å¿˜éŒ„ï¼šæŒ‰ä¸‹å»æ™‚å° `i`

#### ğŸ” ç¬¬ 2 å›åˆ i = 1
- å»ºç«‹æŒ‰éˆ•æ–‡å­—ï¼š"1"

#### ğŸ” ç¬¬ 3 å›åˆ i = 2
- å»ºç«‹æŒ‰éˆ•æ–‡å­—ï¼š"2"

#### ğŸ“Œ é»ä»»ä¸€æŒ‰éˆ•æ™‚ï¼š
- åŸ·è¡Œ `print(i)` â†’ æ­¤æ™‚ i = 2
- æ‰€ä»¥ä¸‰é¡†æŒ‰éˆ•éƒ½å°å‡º 2 âŒ



### âœ… æ­£ç¢ºå¯«æ³•

```python
for i in range(3):
    btn = Button(text=str(i), command=lambda x=i: print(x))
```

#### èªªæ˜ï¼š
- `lambda x=i:` è¡¨ç¤ºæŠŠç•¶ä¸‹çš„ `i` å€¼è¨˜åˆ° `x` ä¸­ï¼Œé€™æ¨£å°±ä¸å—å¾ŒçºŒ i æ”¹è®Šçš„å½±éŸ¿ã€‚



### âœ… é»æŒ‰éˆ•çµæœï¼š
- ç¬¬ä¸€é¡†å° 0
- ç¬¬äºŒé¡†å° 1
- ç¬¬ä¸‰é¡†å° 2



### ğŸ± ä¾¿ç•¶æ¯”å–»ç¸½çµ

| å¯«æ³•                    | è¡Œç‚ºèªªæ˜ |
|-------------------------|----------|
| `lambda: print(i)`      | ç­‰æŒ‰ä¸‹å»æ™‚æ‰å»çœ‹ `i`ï¼Œçµæœä¸‰å€‹éƒ½çœ‹åˆ°æœ€å¾Œçš„å€¼ |
| `lambda x=i: print(x)`  | ç•¶ä¸‹å°±æŠŠ `i` çš„å€¼å­˜é€² `x`ï¼Œæ‰€ä»¥æ¯å€‹ lambda å„è‡ªè¨˜ä½ä¸åŒçš„å€¼ |



## å•é¡ŒäºŒï¼šif expression åˆ¤æ–·è®Šæ•¸æ˜¯å¦æœ‰å…§å®¹

![image](https://hackmd.io/_uploads/BkUs1Lhzle.png)

### âœ… ä½ å¯ä»¥é€™æ¨£æ¯”å–»ï¼š

```python
if expression:
```

å°±åƒæ˜¯åœ¨å•ï¼š**ã€Œé€™å€‹ç®±å­æœ‰æ²’æœ‰æ±è¥¿ï¼Ÿã€**



### âœ… ç¯„ä¾‹èªªæ˜

```python
expression = ""
if expression:
    print("æœ‰æ±è¥¿")
else:
    print("æ²’æ±è¥¿")    # âœ… å°å‡ºé€™è¡Œ
```

```python
expression = "456+7"
if expression:
    print("æœ‰æ±è¥¿")    # âœ… å°å‡ºé€™è¡Œ
else:
    print("æ²’æ±è¥¿")
```



### âœ… åˆ¤æ–·å°ç…§è¡¨

| è®Šæ•¸é¡å‹ | åˆ¤æ–·ç‚º False çš„æƒ…æ³ |
|----------|----------------------|
| å­—ä¸²     | `""` ç©ºå­—ä¸²          |
| æ•¸å­—     | `0`                  |
| List     | `[]` ç©ºåˆ—è¡¨          |
| Dict     | `{}` ç©ºå­—å…¸          |
| None     | `None`               |



### ğŸ§  å»ºè­°è¨˜ä½ï¼š

> Python å¹«ä½ åšäº†å¾ˆå¤šã€ŒçœŸå‡åˆ¤æ–·ã€çš„ç°¡åŒ–ï¼Œä¸ç”¨å¯« `len(expression) > 0`ã€‚  
> ä½¿ç”¨ `if expression:` æ˜¯ Pythonic çš„å¯«æ³•ï¼Œç°¡æ½”ä¸”å¯è®€æ€§å¥½ï¼

---

## å•é¡Œä¸‰ï¼špycache èˆ‡ pyc æª”æ¡ˆæ˜¯ä»€éº¼ï¼Ÿ


![line_oa_chat_250610_153856](https://hackmd.io/_uploads/ByBp50LXlg.jpg)


ä½ ç´…æ¡†åœˆèµ·ä¾†çš„ `__pycache__/__init__.cpython-37.pyc` æ˜¯ Python æ­£å¸¸åŸ·è¡Œéç¨‹ä¸­**è‡ªå‹•ç”¢ç”Ÿçš„å¿«å–æª”æ¡ˆï¼ˆbytecode æª”ï¼‰**ï¼Œä¸¦ä¸æ˜¯éŒ¯èª¤ã€‚



### âœ… ç‚ºä»€éº¼æœƒå‡ºç¾é€™å€‹ .pyc æª”ï¼Ÿ

ç•¶ä½ åŸ·è¡Œä¸€å€‹ Python æ¨¡çµ„ï¼ˆä¾‹å¦‚ `main.py`ï¼‰ä¸¦åŒ¯å…¥è©²è³‡æ–™å¤¾å…§çš„æ¨¡çµ„æ™‚ï¼ŒPython è§£è­¯å™¨æœƒï¼š

1. å°‡ `.py` æª”æ¡ˆç·¨è­¯ç‚º `.pyc`ï¼ˆCompiled Python Codeï¼‰ã€‚
2. å°‡ .pyc æª”æ¡ˆæ”¾é€² `__pycache__` è³‡æ–™å¤¾ã€‚
3. æª”åä¸­çš„ `cpython-37` è¡¨ç¤ºä½¿ç”¨ CPython 3.7 è§£è­¯å™¨ç”¢ç”Ÿçš„ç‰ˆæœ¬ã€‚



### âœ… å¯ä»¥åˆªæ‰å—ï¼Ÿ

å¯ä»¥ï¼Œä½†ä¸‹æ¬¡åŸ·è¡Œåˆæœƒé‡æ–°ç”¢ç”Ÿã€‚
å»ºè­°**ä¸ç”¨ç†å®ƒ**ï¼Œä¹Ÿä¸ç”¨ç‰ˆæœ¬æ§åˆ¶ `.pyc`ã€‚



## å•é¡Œå››ï¼špyttsx3 ç„¡æ³•ç™¼è²çš„å¸¸è¦‹å•é¡Œèˆ‡æ’é™¤æ–¹å¼

## âœ… å•é¡Œæè¿°

åœ¨åŸ·è¡Œä»¥ä¸‹ç¨‹å¼ç¢¼æ™‚ï¼Œé›–ç„¶ `pyttsx3` å¥—ä»¶å·²å®‰è£ï¼Œä½†å»æ²’æœ‰è²éŸ³è¼¸å‡ºï¼š

```python
import pyttsx3
engine = pyttsx3.init()
engine.say(f"è«‹ {patient_id} è™Ÿ {name} åˆ° {room} å ±åˆ°")
engine.runAndWait()
```



## ğŸ” å¸¸è¦‹åŸå› èˆ‡è§£æ³•

### 1ï¸âƒ£ éŸ³è¨Šè¼¸å‡ºè£ç½®éŒ¯èª¤æˆ–ç„¡æ³•ä½¿ç”¨
- ç¢ºèªå–‡å­æ˜¯å¦é–‹å•Ÿã€æœªéœéŸ³
- è‹¥é€éé ç«¯æ¡Œé¢ä½¿ç”¨ï¼ŒéŸ³æ•ˆå¯èƒ½ç„¡æ³•æ’­æ”¾
- æœ‰å¤šå€‹éŸ³è¨Šè£ç½®æ™‚å¯èƒ½è¢«å°å‘éŒ¯èª¤è¼¸å‡º

### âœ… è§£æ³•ï¼š
```python
import pyttsx3
engine = pyttsx3.init()
voices = engine.getProperty('voices')
for i, voice in enumerate(voices):
    print(f"{i}: {voice.name} ({voice.languages})")

engine.setProperty('voice', voices[0].id)  # å˜—è©¦ä½¿ç”¨ä¸åŒ index
```


### 2ï¸âƒ£ Windows èªéŸ³å¼•æ“ï¼ˆSAPIï¼‰æœªæ­£ç¢ºå®‰è£

#### âœ… æ–¹æ³•ä¸€ï¼šä½¿ç”¨ã€ŒåŸ·è¡Œè¦–çª—ã€é–‹å•ŸèªéŸ³è¨­å®š
1. `Win + R` â†’ è¼¸å…¥ `ms-settings:speech` â†’ Enter
2. æª¢æŸ¥æ˜¯å¦æœ‰é è¨­èªéŸ³å¼•æ“ï¼ˆå¦‚ä¸­æ–‡ã€è‹±æ–‡ç­‰ï¼‰

#### âœ… æ–¹æ³•äºŒï¼šæ‰‹å‹•é–‹å•ŸèªéŸ³è¨­å®š
1. è¨­å®š â†’ æ™‚é–“èˆ‡èªè¨€ â†’ èªéŸ³
2. æª¢æŸ¥æ˜¯å¦æœ‰é è¨­èªéŸ³å¼•æ“ï¼ˆå¦‚ä¸­æ–‡ã€è‹±æ–‡ç­‰ï¼‰



### 3ï¸âƒ£ èªéŸ³å…§å®¹è®Šæ•¸ç‚ºç©º

ç¢ºèª `patient_id`ã€`name`ã€`room` ä¸ç‚ºç©ºï¼Œå¦å‰‡å¯èƒ½æœƒè·³éç™¼è²ï¼š

```python
print(f"è«‹ {patient_id} è™Ÿ {name} åˆ° {room} å ±åˆ°")  # å…ˆç¢ºèªå­—ä¸²å…§å®¹
```

### 4ï¸âƒ£ è¢«å…¶ä»–è»Ÿé«”é–ä½éŸ³è¨Šè¨­å‚™

å¦‚ Zoomã€Skypeã€éŸ³æ•ˆå¡è»Ÿé«”å¯èƒ½ä½”ç”¨éŸ³æºå°è‡´ç„¡æ³•æ’­æ”¾



## å•é¡Œäº”ï¼šimport å¥—ä»¶å¤±æ•—

![line_oa_chat_250611_152800](https://hackmd.io/_uploads/SJwUF0UQlg.jpg)
![line_oa_chat_250611_152802](https://hackmd.io/_uploads/B1DUKC87le.jpg)


### â— éŒ¯èª¤è¨Šæ¯ç¯„ä¾‹

```text
ImportError: DLL load failed while importing _multiarray_umath: æ‰¾ä¸åˆ°æŒ‡å®šçš„æ¨¡çµ„ã€‚
ImportError: numpy.core._multiarray_umath failed to import
```

---

### ğŸ” å•é¡ŒåŸå› 

numpy èˆ‡ pandas å¥—ä»¶ç‰ˆæœ¬ä¸ç›¸ä¾


é€ æˆçš„å¸¸è¦‹åŸå› ä¹‹ä¸€æ˜¯ï¼š

#### 1. pip èˆ‡ conda æ··ç”¨å°è‡´ç’°å¢ƒè¡çª

- `conda` å®‰è£çš„ numpy æœƒæ­é…ç›¸ä¾çš„ C/C++ DLL æª”æ¡ˆ
- `pip` å®‰è£çš„ç‰ˆæœ¬å¯èƒ½æœƒè¦†è“‹æ‰ conda å®‰è£çš„æª”æ¡ˆ
- æœ€çµ‚å°è‡´ DLL æ‰¾ä¸åˆ°æˆ–è¼‰å…¥å¤±æ•—

---

### âœ… è§£æ±ºæ–¹æ³•

è«‹ä¾ä»¥ä¸‹æ­¥é©Ÿå®Œæ•´æ¸…é™¤ä¸¦é‡æ–°å®‰è£ `numpy` å’Œ `pandas`ï¼ˆå»ºè­°å…¨éƒ¨ä½¿ç”¨ condaï¼‰ï¼š

```bash=
#æ–¹æ³•ä¸€
#éœ€è¦åœ¨çµ‚ç«¯æ©Ÿæ“ä½œ
pip uninstall numpy pandas
conda uninstall numpy pandas
conda install -c conda-forge numpy pandas
```


```bash=
#æ–¹æ³•äºŒ
#åœ¨IDEä¸Šæ“ä½œ
!pip uninstall numpy pandas
!conda uninstall numpy pandas
!conda install -c conda-forge numpy pandas
```


> âœ… å»ºè­°ï¼šçµ±ä¸€ä½¿ç”¨ `conda` ç®¡ç†å¥—ä»¶ï¼Œæ¯”è¼ƒç©©å®šã€é¿å…ç›¸ä¾æ€§å•é¡Œã€‚

---


## å•é¡Œå…­ï¼špandas æŒ‡ä»¤è¬›è§£

![image](https://hackmd.io/_uploads/SJ4DYoP7ex.png)

## ğŸ“… 2.1 æ—¥æœŸæ¬„ä½è™•ç†

```python
df['ä¸Šæ¶æ—¥æœŸ'] = pd.to_datetime(df['ä¸Šæ¶æ—¥æœŸ'])
df['ä¸Šæ¶å¹´ä»½'] = df['ä¸Šæ¶æ—¥æœŸ'].dt.year
```

### âœ… è©³ç´°èªªæ˜ï¼š
- `pd.to_datetime()`ï¼šå°‡å­—ä¸²è½‰æ›ç‚º `datetime` æ ¼å¼ï¼Œä¾¿æ–¼æ™‚é–“çš„é‹ç®—èˆ‡åˆ†æã€‚
- `.dt.year`ï¼šä½¿ç”¨ `.dt` å±¬æ€§å­˜å–æ—¥æœŸä¸­çš„å¹´åˆ†è³‡è¨Šã€‚

ğŸ”— å®˜æ–¹æ–‡ä»¶ï¼š
- [`pd.to_datetime`](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.to_datetime.html)
- [`Series.dt`](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.dt.html)

---

## â±ï¸ 2.2 ç‰‡é•·æ¬„ä½æ‹†è§£

```python
df['ç‰‡é•·_int'] = df['ç‰‡é•·'].str.extract(r'(\d+)').astype(float)
```

### âœ… è©³ç´°æ‹†è§£èˆ‡èªªæ˜ï¼š

```text
df['ç‰‡é•·'].str.extract(r'(\d+)')
          â–²     â–²        â–²
          â”‚     â”‚        â””â”€â”€â”€ â„ ')'ï¼šçµæŸç¾¤çµ„ã€‚
          â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€ âƒ '\d+'ï¼šè¡¨ç¤ºæ•¸å­—ï¼ˆ\dï¼‰å‡ºç¾ä¸€æ¬¡ä»¥ä¸Šï¼ˆ+ æ˜¯é‡è©ï¼‰ã€‚
          â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‚ '('ï¼šé–‹å§‹ä¸€å€‹ç¾¤çµ„ï¼Œæœƒè¢« extract æ•æ‰ã€‚
```

- `.str`ï¼šè¡¨ç¤ºé€™æ˜¯å­—ä¸²æ“ä½œï¼Œé©ç”¨æ–¼ Series è³‡æ–™ã€‚
- `.extract()`ï¼šæ ¹æ“šæ­£è¦è¡¨é”å¼ï¼Œæ“·å–å­—ä¸²ä¸­æŒ‡å®šçš„éƒ¨åˆ†ã€‚
- `r'(\d+)'`ï¼šPython åŸå§‹å­—ä¸²ï¼Œé¿å…è·³è„«å­—å…ƒèª¤åˆ¤ã€‚
- `(\d+)`ï¼šæ­£è¦è¡¨é”å¼èªæ³•ï¼Œæ‹¬è™Ÿè¡¨ç¤ºè¦æ“·å–çš„ç¾¤çµ„ï¼Œ`\d+` ä»£è¡¨ã€Œä¸€å€‹æˆ–å¤šå€‹æ•¸å­—ã€ã€‚
- `.astype(float)`ï¼šå°‡æ“·å–å‡ºä¾†çš„å­—ä¸²æ•¸å­—è½‰æ›ç‚ºæµ®é»æ•¸ã€‚

---

```python
df['ç‰‡é•·é¡å‹'] = df['ç‰‡é•·'].str.extract(r'([a-zA-Z ]+)')
```

df['ç‰‡é•·'].str.extract(r'([a-zA-Z ]+)')
          â–²     â–²         â–²
          â”‚     â”‚         â””â”€â”€â”€ â„ ')'ï¼šç¾¤çµ„çµå°¾ï¼Œç”¨ä¾†å°é–‰æ‹¬è™Ÿå€æ®µã€‚
          â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âƒ '[a-zA-Z ]+'ï¼šåŒ¹é…ä¸€å€‹æˆ–å¤šå€‹è‹±æ–‡å­—æ¯æˆ–ç©ºæ ¼ã€‚
          â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‚ '('ï¼šæ­£è¦è¡¨ç¤ºå¼çš„ç¾¤çµ„é–‹é ­ï¼Œç”¨æ–¼ `.extract()` æ“·å–ã€‚


- é¡ä¼¼åœ°ï¼Œé€™è¡Œç¨‹å¼ç¢¼æ˜¯æ“·å– `ç‰‡é•·` æ¬„ä½ä¸­çš„è‹±æ–‡ç‰‡é•·å–®ä½ï¼Œå¦‚ "Minutes"ã€"Seasons"ã€‚
- `[a-zA-Z ]+`ï¼šè¡¨ç¤ºæ“·å–è‹±æ–‡å–®å­—èˆ‡ç©ºæ ¼çš„é€£çºŒå­—å…ƒã€‚

ğŸ”— å®˜æ–¹æ–‡ä»¶ï¼š
- [`Series.str.extract`](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.extract.html)
- [`astype`](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.astype.html)

---

## ğŸ“š 2.3 å¤šå€¼æ¬„ä½æ‹†åˆ†

```python
df['é¡Œææ¸…å–®'] = df['é¡Œæ'].str.split(', ')
df['æ¼”å“¡æ¸…å–®'] = df['æ¼”å“¡'].fillna('').str.split(', ')
```

### âœ… è©³ç´°èªªæ˜ï¼š

    df['æ¬„ä½'].str.split(', ')
               â–²          â–²
               â”‚          â””â”€â”€â”€ åˆ†éš”ç¬¦è™Ÿï¼ˆå­—ä¸²ï¼‰ï¼šé€—è™ŸåŠ ç©ºæ ¼ã€‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ä½¿ç”¨ .str æ“ä½œæ•´æ¬„å­—ä¸²æ¬„ä½ã€‚



- `.str.split(', ')`ï¼š
  - å°‡å­—ä¸²ä»¥é€—è™Ÿèˆ‡ç©ºæ ¼ç‚ºç•Œåˆ‡å‰²ï¼Œè½‰æ›ç‚º Python listã€‚
  - ç¯„ä¾‹ï¼š`"Drama, Comedy"` â†’ `["Drama", "Comedy"]`

---
    df['æ¬„ä½'].fillna('')
               â–²
               â””â”€â”€â”€ è£œä¸Šç©ºå­—ä¸²å–ä»£ç¼ºå¤±å€¼ï¼ˆNaNï¼‰



- `.fillna('')`ï¼š
  - å°‡ç¼ºå¤±å€¼ï¼ˆNaNï¼‰å¡«è£œç‚ºç©ºå­—ä¸²ï¼Œé¿å… `.str` æ“ä½œæ™‚ç™¼ç”ŸéŒ¯èª¤ã€‚

ğŸ”— å®˜æ–¹æ–‡ä»¶ï¼š
- [`Series.str.split`](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.split.html)
- [`fillna`](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.fillna.html)


## å•é¡Œä¸ƒï¼šmatplotib æŒ‡ä»¤è¬›è§£

![image](https://hackmd.io/_uploads/H1zQ5iPXel.png)

    df.groupby(['ä¸Šæ¶å¹´ä»½', 'é¡åˆ¥']).size().unstack().fillna(0)
    â–²         â–²                 â–²       â–²         â–²
    â”‚         â”‚                 â”‚       â”‚         â””â”€â”€â”€ â„ `.fillna(0)`ï¼šå°‡ NaN ç¼ºæ¼å€¼è£œç‚º 0ã€‚
    â”‚         â”‚                 â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âƒ `.unstack()`ï¼šå°‡å…§å±¤ç´¢å¼•ï¼ˆé¡åˆ¥ï¼‰è½‰ç‚ºæ¬„ä½ï¼ˆå½¢æˆæ©«å‘è¡¨æ ¼ï¼‰ã€‚
    â”‚         â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‚ `.size()`ï¼šè¨ˆç®—æ¯å€‹ç¾¤çµ„çš„è³‡æ–™æ•¸ï¼ˆå³ä½œå“æ•¸é‡ï¼‰ã€‚
    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â `['ä¸Šæ¶å¹´ä»½', 'é¡åˆ¥']`ï¼šç¾¤çµ„ä¾æ“šçš„æ¬„ä½åˆ—è¡¨ï¼ˆå¿…é ˆæ˜¯ listï¼‰ã€‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â€ `df.groupby(...)`ï¼šä»¥ã€Œå¤šæ¬„ä½ã€å°è³‡æ–™é€²è¡Œç¾¤çµ„èšåˆã€‚


## âœ… è£œå……èªªæ˜

- `.groupby(['ä¸Šæ¶å¹´ä»½', 'é¡åˆ¥'])`ï¼šä»¥ list æ ¼å¼å‚³å…¥å…©å€‹æ¬„ä½ï¼Œé€²è¡Œå¤šå±¤ç¾¤çµ„ã€‚
- `.size()`ï¼šçµ±è¨ˆæ¯å€‹ç¾¤çµ„çš„ç­†æ•¸ï¼Œæœƒå›å‚³ä¸€å€‹å¤šå±¤ç´¢å¼•çš„ Seriesã€‚
- `.unstack()`ï¼šå°‡ç¬¬äºŒå±¤ç´¢å¼•ï¼ˆé¡åˆ¥ï¼‰è½‰ç‚ºæ¬„ä½ï¼Œå½¢æˆäº¤å‰è¡¨ã€‚
- `.fillna(0)`ï¼šè£œé½Šç¼ºå¤±æ¬„ä½çš„ç©ºå€¼ï¼Œé¿å…å¾ŒçºŒç¹ªåœ–æˆ–åˆ†æéŒ¯èª¤ã€‚





### ğŸ§© ç‚ºä»€éº¼è¦ä½¿ç”¨ `['æ¬„ä½1', 'æ¬„ä½2']`ï¼ˆlistï¼‰

```python
df.groupby(['ä¸Šæ¶å¹´ä»½', 'é¡åˆ¥'])
```

#### âœ… æ­£ç¢ºå¯«æ³•
- ä½¿ç”¨ list å‚³å…¥å¤šå€‹æ¬„ä½åç¨±ï¼ˆå¦‚ï¼šä¸Šæ¶å¹´ä»½ + é¡åˆ¥ï¼‰
- Python èªæ³•ä¸­ `['a', 'b']` è¡¨ç¤ºä¸€å€‹æ¸…å–®ï¼Œæ‰èƒ½ä¸€æ¬¡å‚³å…¥å¤šæ¬„ä½

#### âŒ éŒ¯èª¤å¯«æ³•
```python
df.groupby('ä¸Šæ¶å¹´ä»½', 'é¡åˆ¥')  # âŒ
```
- é€™æ¨£æœƒè¢«ç•¶ä½œå…©å€‹ç¨ç«‹åƒæ•¸å‚³å…¥ï¼Œé€ æˆéŒ¯èª¤ï¼š`TypeError`

---

### ğŸ¯ `ax = æŒ‡ä»¤ä»‹ç´¹

![image](https://hackmd.io/_uploads/HJVi2svXel.png)


```python
ax = year_type.plot(kind='bar', stacked=True, figsize=(12,6))
```
    year_type.plot(kind='bar', stacked=True, figsize=(12,6))
    â–²         â–²      â–²           â–²           â–²
    â”‚         â”‚      â”‚           â”‚           â””â”€â”€â”€ â„ `figsize=(12,6)`ï¼šåœ–è¡¨å¤§å°ï¼Œå¯¬ 12 å‹ã€é«˜ 6 å‹ã€‚
    â”‚         â”‚      â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âƒ `stacked=True`ï¼šå•Ÿç”¨å †ç–Šé•·æ¢åœ–ï¼ˆå„é¡åˆ¥å€¼æœƒç–Šåœ¨ä¸€èµ·ï¼‰ã€‚
    â”‚         â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â‚ `kind='bar'`ï¼šæŒ‡å®šåœ–çš„é¡å‹ç‚º bar chartï¼ˆç›´æ¢åœ–ï¼‰ã€‚
    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â `.plot()`ï¼špandas çš„ç¹ªåœ–ä»‹é¢ï¼Œå…§éƒ¨å‘¼å« matplotlibã€‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â€ `year_type`ï¼šè³‡æ–™ä¾†æºï¼ˆéœ€ç‚º DataFrame çµæ§‹ï¼‰ã€‚

---

## âœ… è£œå……èªªæ˜

- `.plot()`ï¼šPandas å° Matplotlib çš„å°è£ï¼Œå¯å¿«é€Ÿç¹ªåœ–ã€‚
- `kind='bar'`ï¼šç•«ç›´æ¢åœ–ï¼ˆä¹Ÿå¯æ”¹ç‚º `'line'`ã€`'pie'` ç­‰ï¼‰ã€‚
- `stacked=True`ï¼šé–‹å•Ÿå †ç–Šæ•ˆæœï¼ˆç–Šåœ¨åŒä¸€æ ¹æŸ±å­ä¸Šï¼Œé©åˆçµ„æˆæ¯”è¼ƒï¼‰ã€‚
- `figsize=(12, 6)`ï¼šåœ–è¡¨å¤§å°è¨­å®šï¼Œå–®ä½ç‚ºè‹±å‹ï¼ˆinchï¼‰ï¼Œé è¨­ç‚º (6.4, 4.8)ã€‚
- 
### ğŸ¯ ç‚ºä»€éº¼ä½¿ç”¨ `ax = ...`

```python
ax = df.plot(kind='bar', stacked=True)
```

#### âœ… èªªæ˜
- `df.plot()` å›å‚³çš„æ˜¯ä¸€å€‹ `Axes` ç‰©ä»¶ï¼ˆå³åœ–è¡¨æœ¬èº«ï¼‰
- å„²å­˜ç‚ºè®Šæ•¸ `ax` ä»£è¡¨åœ–çš„æ§åˆ¶å™¨ï¼Œå¯é€²ä¸€æ­¥è¨­å®šæ¨™é¡Œã€æ¨™ç±¤ç­‰ç´°ç¯€

#### å„ªé»
- å¯åŒæ™‚æ§åˆ¶å¤šå€‹å­åœ–ï¼ˆsubplotï¼‰
- é©åˆé€²éšç¹ªåœ–ã€å®¢è£½åœ–è¡¨é¢¨æ ¼
- é¢å‘ç‰©ä»¶ç·¨ç¨‹é¢¨æ ¼ï¼ˆOOPï¼‰æ›´æ¸…æ¥šã€å½ˆæ€§å¤§

---

### ğŸ†š `ax.set_title()` vs `plt.title()`

| ç”¨æ³• | é©ç”¨æ™‚æ©Ÿ | å„ªé» |
|------|----------|------|
| `ax.set_title()` | âœ… æ¨è–¦ä½¿ç”¨ | æ˜ç¢ºè¨­å®šæŸå¼µåœ–çš„æ¨™é¡Œ |
| `plt.title()`    | â›” ä¸å»ºè­°è¤‡é›œå ´æ™¯ | åªé©åˆç°¡å–®å–®ä¸€åœ–ï¼Œç„¡æ³•åˆ†è¾¨å¤šåœ–è¡¨ |

#### âœ… æ¨è–¦å¯«æ³•ï¼š

```python
ax = df.plot()
ax.set_title("ä¸åŒå¹´ä»½ä¸Šæ¶çš„é›»å½±èˆ‡å½±é›†æ•¸é‡")
```

#### âš ï¸ å‚³çµ±å¯«æ³•ï¼ˆåªé©åˆç°¡å–®åœ–è¡¨ï¼‰ï¼š

```python
df.plot()
plt.title("ä¸åŒå¹´ä»½ä¸Šæ¶çš„é›»å½±èˆ‡å½±é›†æ•¸é‡")
```


### ğŸ” plt.tight_layout() æ˜¯ä»€éº¼ï¼Ÿ


```python
plt.tight_layout()
```
âœ… åŠŸèƒ½ï¼š
ğŸ‘‰ è‡ªå‹•èª¿æ•´å­åœ–(subplots)æˆ–åœ–è¡¨å…ƒä»¶ï¼ˆæ¨™é¡Œã€è»¸æ¨™ç±¤ã€åœ–ä¾‹ï¼‰çš„ä½ç½®ï¼Œè®“å®ƒå€‘ä¸æœƒé‡ç–Šã€è¶…å‡ºç•«é¢ã€æ“ åœ¨ä¸€èµ·ã€‚


### ğŸ¯ ä»€éº¼æƒ…æ³éœ€è¦ç”¨ï¼Ÿ
#### ä¸ç”¨ tight_layout() æ™‚ï¼š
```python
plt.show()
```
ğŸ”º å¯èƒ½å‡ºç¾ï¼š
- æ¨™é¡Œè¢«åˆ‡æ‰
- y è»¸æ¨™ç±¤é‡ç–Š
- x è»¸æ¨™ç±¤é‡ç–Š
- å­åœ–ä¹‹é–“è·å¤ªè¿‘

#### åŠ ä¸Š tight_layout() å¾Œï¼š
```python
plt.tight_layout()
plt.show()
```
âœ… æ•ˆæœæ˜é¡¯æ”¹å–„ï¼Œé–“è·æœƒè‡ªå‹•èª¿æ•´ï¼Œçœ‹èµ·ä¾†æ›´æ•´é½Šã€‚

### ğŸ“¦ æŠ€è¡“åŸç†ç°¡å–®èªªï¼š
å®ƒæœƒæ ¹æ“šåœ–è¡¨çš„å¯¦éš›å…ƒç´ ç©ºé–“ï¼Œè‡ªå‹•å¹«ä½ æ’ç‰ˆã€èª¿æ•´é‚Šç•Œ (padding)ã€‚
é¿å…ä½ æ‰‹å‹•å»èª¿æ•´ fig.subplots_adjust(...) ç­‰ç¹é›œè¨­å®šã€‚

### ğŸ“ æ³¨æ„äº‹é …ï¼š
å¿…é ˆåœ¨æ‰€æœ‰åœ–è¡¨ç¹ªè£½å¾Œã€plt.show() å‰å‘¼å«ã€‚
å°æ–¼å¤šå­åœ–ï¼ˆsubplotï¼‰ç‰¹åˆ¥é‡è¦ã€‚

| ç”¨æ³•                   | èªªæ˜                 |
| -------------------- | ------------------ |
| `plt.tight_layout()` | è‡ªå‹•å„ªåŒ–åœ–è¡¨æ’ç‰ˆï¼Œé¿å…é‡ç–Šèˆ‡è£åˆ‡å•é¡Œ |
| `plt.show()` ä¹‹å‰ä½¿ç”¨    | âœ… å»ºè­°åŠ ä¸Šï¼Œå¹¾ä¹æ²’æœ‰å‰¯ä½œç”¨     |
